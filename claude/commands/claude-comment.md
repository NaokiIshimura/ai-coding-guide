---
allowed-tools: Task
description: @claudeコメントの検索・実行・削除を管理する
---

## コンテキスト

プロジェクト内の@claudeコメントを体系的に管理するためのコマンドです。
@claudeコメントは、コード内でAIに対して指示や要求を記述したコメントです。

## タスク

以下の手順で@claudeコメントの管理を実行してください：

### 実行手順

1. **@claudeコメントの検索**
   - `claude-comment-finder` エージェントを使用してプロジェクト全体の@claudeコメントを検索
   - 検出されたすべての@claudeコメントの場所と内容を確認
   - コメントの種類（実装要求、リファクタリング、バグ修正など）を分類

2. **検索結果の確認**
   - 見つかった@claudeコメントの一覧をユーザーに提示
   - 各コメントの優先度と実行可能性を評価
   - ユーザーに実行対象のコメントを選択してもらう（全て実行する場合もあり）

3. **@claudeコメントの実行**
   - ユーザーが承認したコメントについて、`claude-comment-executor` エージェントを使用して実装
   - 各コメントの指示に従って以下を実行：
     - 新機能の実装
     - コードのリファクタリング
     - バグ修正
     - エラーハンドリングの追加
     - パフォーマンス最適化
     - テストやドキュメントの追加
   - 実装完了後、各タスクの結果を記録

4. **実装結果の確認**
   - 実装された内容をユーザーに報告
   - 正常に実装されたか、問題が発生したかを明確に提示
   - ユーザーに実装内容の確認を求める

5. **@claudeコメントのクリーンアップ**
   - ユーザーの承認を得た後、`claude-comment-cleaner` エージェントを使用
   - 正常に実装が完了した@claudeコメントを削除
   - 部分的にしか実装できなかった、または実装できなかったコメントは保持
   - クリーンアップの結果をユーザーに報告

### 実行オプション

ユーザーは以下のオプションを指定できます：

- **検索のみ**: @claudeコメントの検索と分析のみを実行
- **実行のみ**: 既に特定された@claudeコメントの実装のみを実行
- **クリーンアップのみ**: 実装済みの@claudeコメントの削除のみを実行
- **フル実行**: 検索→実行→クリーンアップの全工程を実行（デフォルト）

### 注意事項

- **実装前の確認**: @claudeコメントの実装を開始する前に、必ずユーザーの承認を得てください
- **段階的な実行**: 大量の@claudeコメントがある場合は、優先度順に段階的に実行することを推奨
- **実装の検証**: 各実装後、既存機能が破壊されていないことを確認してください
- **コメント削除の慎重さ**: 実装が完全に完了したことを確認してからのみコメントを削除
- **エラー処理**: 実装できなかったコメントについては、理由を明確に記録し、コメントを保持
- **並行実行**: 可能な場合は、複数のエージェントを並行実行して効率化を図る

### 期待される成果

1. プロジェクト内のすべての@claudeコメントが識別される
2. 承認されたコメントの指示が適切に実装される
3. 実装完了後、不要な@claudeコメントがクリーンアップされる
4. コードベースがよりクリーンで、保守しやすい状態になる
