# /pr-comment-check

PRのコメントを確認して対応が必要かを検討するコマンド

## 概要
現在のブランチに関連するPull Requestのコメントを確認し、対応が必要な項目があるかを分析・報告します。

## 処理フロー

1. **現在のブランチ情報を取得**
   - 現在のブランチ名を確認
   - リモートブランチとの紐付けを確認

2. **関連するPRを特定**
   - 現在のブランチに関連するPRを検索
   - PRが存在しない場合は終了

3. **PRコメントの取得**
   - PR本体のコメント
   - レビューコメント
   - インラインコメント（コード行に対するコメント）
   - bot（Copilot等）からのコメント

4. **コメントの分析**
   - 未解決のコメントを特定
   - 修正が必要な指摘事項を抽出
   - 質問や確認事項を識別
   - 承認済み/解決済みのコメントを除外

5. **対応要否の判定**
   - 各コメントの重要度を評価
   - 対応優先度を設定
   - 具体的な対応内容を提案

6. **結果の報告**
   - 対応が必要なコメントの一覧
   - 各コメントの対応優先度
   - 推奨される対応方法
   - 対応不要なコメントの要約

## 使用するツール
- GitHub CLI (gh) または GitHub MCP
- pr-collector エージェント（詳細な情報収集時）

## 出力形式
```
## PR #123 のコメント確認結果

### 要対応 (3件)
1. **[高]** @reviewer1: "エラーハンドリングが不足しています" (file.ts:45)
   - 推奨対応: try-catchブロックの追加
   
2. **[中]** @reviewer2: "型定義を追加してください" (types.ts:12)
   - 推奨対応: interfaceまたはtypeの定義

3. **[低]** @bot: "未使用の変数があります" (utils.ts:78)
   - 推奨対応: 変数の削除または使用

### 確認済み/解決済み (2件)
- ✓ "テストケースを追加しました" - 解決済み
- ✓ "LGTM" - 承認済み

### 対応推奨事項
優先度の高い順に対応することを推奨します。
```

## エラーハンドリング
- PRが見つからない場合: ブランチ名を確認して再検索
- 権限エラー: GitHub認証状態を確認
- ネットワークエラー: リトライまたは代替手段を提案
