---
name: tasks-execute
description: |
  tasks.mdに定義されたタスクを順番に実装する。計画ベースの開発を
  効率的に進めるためのスキル。Use when:
  - tasks.mdに基づいて実装を進める時
  - 計画されたタスクを順番に実装する時
  - 「タスクを実行して」「実装を進めて」と言われた時
  - 「次のタスクをやって」と言われた時
allowed-tools: Read, Write, Glob, Grep, Bash, Edit, MultiEdit, Task
---

# タスク実行スキル

あなたはtasks.mdに基づいてタスクを実行するスキルです。
計画に従って効率的に実装を進めます。

## 概要

tasks.mdに定義されたタスクを読み込み、依存関係を考慮しながら
順番に実装を進めます。

## 入力情報

- tasks.mdのパス（必須）
- 開始タスクID（オプション）
- 実行するタスク数の上限（オプション）

## 実行手順

### Step 1: 準備

1. **ファイルパスの確認**
   - ユーザーからtasks.mdのパスが提供されている場合は、それを使用
   - 提供されていない場合は、ユーザーにファイルパスの入力を求める

2. **関連ファイルの読み込み**
   ```bash
   # tasks.mdと同じディレクトリにある関連ファイルを確認
   ls -la $(dirname <tasks.md>)
   ```
   - tasks.md を読み込み
   - requirements.md があれば参照
   - design.md があれば参照

3. **プロジェクト構造の理解**
   - README.mdを確認
   - 既存のコードパターンを把握

### Step 2: タスク分析

1. **進捗状態の確認**
   - 🔴 未着手タスクをリストアップ
   - 🟡 進行中タスクがあれば継続
   - ⚠️ ブロック中タスクの原因を確認

2. **依存関係の確認**
   - 各タスクの前提タスクを確認
   - 実行可能なタスクを特定

3. **実行順序の決定**
   - 優先度を考慮
   - 依存関係を考慮
   - 並行実行可能なタスクを識別

### Step 3: タスク実行

1. **タスク開始前の確認**
   - ユーザーに実行するタスクを報告
   - 必要に応じて確認を取得

2. **各タスクの実行**
   - 進捗状態を 🟡 進行中 に更新
   - タスクの実装内容に従って作業
   - 完了条件をすべて満たす

3. **タスク完了処理**
   - 進捗状態を 🟢 完了 に更新
   - tasks.mdを更新（新しいタイムスタンプで保存）
   - 次のタスクへ移行

### Step 4: 報告

- 完了したタスクのサマリー
- 残りのタスク一覧
- 発生した課題（あれば）
- 次のステップの提案

## タスク進捗状態

- 🔴 未着手（Not Started）
- 🟡 進行中（In Progress）
- 🟢 完了（Completed）
- ⚠️ ブロック中（Blocked）

## 進捗状態の更新

tasks.mdを更新する際のルール：

```markdown
## [TASK-001] タスク名

### ステータス
🟢 完了

### 完了日時
2025-01-02 03:04

### 実装メモ
- 実装した内容のサマリー
- 使用したファイル
- 注意点
```

## ファイル更新時の注意

- **新しいタイムスタンプでファイルを作成**
  - 既存のtasks.mdは上書きしない
  - `YYYY_MMDD_HHMM_SS_tasks.md` の形式で新規作成

- **タイムスタンプの取得**
  ```bash
  TZ='Asia/Tokyo' date '+%Y_%m%d_%H%M_%S'
  ```

## 実装ガイドライン

### コード品質

- 自己文書化コードを記述
- 周囲のコードに基づいて適切な言語でコメント
- ファイルは空行で終了
- DRY原則に従う

### React固有のルール（該当する場合）

- ロジックとUIを分離
- コードを適切なファイルに分割
- propsにはreadonlyを使用

### Git操作

- 明示的な指示なしにコミットしない
- .claude、.vscode、.serenaディレクトリはコミットしない

## 注意事項

- **スコープの遵守**: タスクに定義された範囲のみを実装
- **既存コードの尊重**: 最低限の修正にとどめる
- **依存関係の厳守**: 前提タスクが未完了の場合はスキップ
- **ユーザー確認**: 不明な点があれば確認を取る
- **ファイル末尾**: 空行を追加
- **tasks.mdのパスを取得せずに作業を開始しない**

## エラーハンドリング

ブロッカーが発生した場合：

1. 進捗状態を ⚠️ ブロック中 に更新
2. ブロッカーの内容を記録
3. ユーザーに報告して対応方針を確認
4. 可能であれば別のタスクを先に実行

## 出力ファイル

```
.claude/tasks/<識別子>/
├── YYYY_MMDD_HHMM_SS_tasks.md  # 更新されたタスクリスト
└── YYYY_MMDD_HHMM_SS_report.md # 実行レポート（オプション）
```

## 使用例

### 基本的な使用

```
ユーザー: /tasks.execute .claude/tasks/ABC-123/2025_0102_0304_tasks.md

実行結果:
- TASK-001 を実行完了
- TASK-002 を実行完了
- TASK-003 は依存関係待ち（スキップ）
- 更新されたtasks.mdを保存
```

### 特定のタスクから開始

```
ユーザー: /tasks.execute .claude/tasks/ABC-123/2025_0102_0304_tasks.md TASK-003

実行結果:
- TASK-003 から実行開始
- TASK-003 を実行完了
- TASK-004 を実行完了
```
