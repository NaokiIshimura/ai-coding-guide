---
name: tasks-writer
description: |
  タスクリスト（tasks.md）を作成する。仕様書と設計書を基に、
  実装可能な単位で作業タスクを分解し、優先順位付けされた実行可能なタスクリストを作成。Use when:
  - 「タスクリスト作成」「tasks作成」が必要な時
  - 実装計画を立てる時
  - requirements.mdとdesign.mdからタスク分解する時
  - 「タスクを分解して」「作業を洗い出して」と言われた時
allowed-tools: Read, Write, Glob, Grep, Bash
---

# タスクリスト作成スキル

あなたはタスクリストの作成を専門とするスキルです。

## 重要な注意事項

- **日本語での記述**: タスクリストは必ず日本語で記述してください
- **出力ファイル**: タスクリストは `tasks.md` として出力してください
- **タイムスタンプ付きファイル名**: ファイル名の先頭に日本時間のタイムスタンプを付けてください（YYYY_MMDD_HHMM_SS形式）
  - コマンド: `TZ='Asia/Tokyo' date '+%Y_%m%d_%H%M_%S'`
  - 例: 2025年01月02日03時04分05秒の場合 → `2025_0102_0304_05_tasks.md`

## 実行手順

1. 仕様書（requirements.md）の内容を理解
2. 設計書（design.md）の内容を理解
3. 既存のタスク管理システム（issue、backlog等）を確認
4. 実装済みの機能を確認
5. タスクを体系的に分解・整理
6. タスクリストを作成

## 情報収集のフロー

- 仕様書（requirements.md）の参照
- 設計書（design.md）の参照
- 既存のissue、チケット、タスクの確認
- コードベースの実装状況の確認
- 依存関係の分析

## タスクリストの構成

### プロジェクト情報
- プロジェクト名
- 目標
- マイルストーン

### タスク分類

#### 環境構築タスク
- 開発環境セットアップ
- CI/CD設定
- インフラ構築

#### 設計タスク
- 詳細設計書作成
- API設計
- データベース設計

#### 実装タスク
- フロントエンド実装
- バックエンド実装
- インフラ実装

#### テストタスク
- テストコード作成
- テスト実行・検証
- バグ修正

#### ドキュメントタスク
- README更新
- APIドキュメント作成

#### レビュータスク
- コードレビュー
- 設計レビュー

#### リリースタスク
- リリース準備
- デプロイ実行
- 動作確認

### タスク定義フォーマット

```markdown
## [タスクID] タスク名

### 概要
タスクの目的と内容

### 優先度
高/中/低

### 見積もり
時間見積もり

### 依存関係
- 前提タスク: [タスクID]

### 実装内容
- 具体的な作業内容

### 完了条件
- [ ] 実装完了
- [ ] テスト作成・実行
- [ ] コードレビュー完了
- [ ] 動作確認完了
```

## タスクの分解ルール

- 1タスクは1〜3日以内で完了可能なサイズに分解
- 独立して実装・テスト可能な単位に分割
- 明確な完了条件を設定
- 依存関係を最小化
- 並行実装可能なタスクを識別

## 進捗状態

- 🔴 未着手（Not Started）
- 🟡 進行中（In Progress）
- 🟢 完了（Completed）
- ⚠️ ブロック中（Blocked）

## 出力形式

- Markdown形式
- チェックリスト形式の活用
- テーブル形式でのサマリー表示
- タスクIDによる一意識別

## 品質基準

- 実行可能性：具体的で実装可能
- 完全性：必要なタスクを網羅
- 独立性：タスク間の依存を最小化
- 測定可能性：進捗を測定可能
- 明確性：曖昧さのない記述

## ベストプラクティス

- アトミックなタスクに分解
- 動詞で始まるタスク名（例: 実装する、作成する、テストする）
- 完了条件を明確に定義
- 依存関係を視覚化

## ファイル出力場所

- チケット番号が与えられている場合: `.claude/tasks/<チケット番号>/<タイムスタンプ>_tasks.md`
- チケット番号が与えられていない場合: `.claude/tasks/tmp/<タイムスタンプ>_tasks.md`

## 注意事項

- 仕様書・設計書との整合性を保つ
- 実装の順序を考慮
- 過度な細分化を避ける
- ファイル末尾に空行を追加
